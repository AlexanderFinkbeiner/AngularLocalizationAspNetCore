{"version":3,"sources":["webpack:///./wwwroot/app/boot.ts","webpack:///./wwwroot/app/app.component.ts","webpack:///./wwwroot/app/home/home.component.ts","webpack:///./wwwroot/app/shop/shop.component.ts","webpack:///./wwwroot/app/services/ProductService.ts","webpack:///./wwwroot/app/app.constants.ts"],"names":[],"mappings":"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","file":"./wwwroot/dist/app.bundle.js","sourcesContent":["import { bootstrap } from '@angular/platform-browser-dynamic';\r\nimport { HTTP_PROVIDERS } from '@angular/http';\r\nimport { ROUTER_PROVIDERS } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { Configuration } from './app.constants';\r\n\r\nbootstrap(AppComponent, [\r\n    ROUTER_PROVIDERS,\r\n    HTTP_PROVIDERS,\r\n    Configuration,\r\n]);\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/boot.ts\n **/","import {Component, OnInit} from '@angular/core';\r\nimport {Routes, Router, ROUTER_DIRECTIVES} from '@angular/router';\r\n\r\n// Services.\r\nimport {Locale, LocaleService, LocalizationService} from 'angular2localization/angular2localization';\r\n// Pipes.\r\nimport {TranslatePipe} from 'angular2localization/angular2localization';\r\n\r\n// Components.\r\nimport { HomeComponent } from './home/home.component';\r\nimport { ShopComponent } from './shop/shop.component'; \r\nimport { ProductService } from './services/ProductService';\r\n\r\n@Component({\r\n    selector: 'my-app',\r\n    templateUrl: 'app/app.component.html',\r\n    styleUrls: ['app/app.component.css'],\r\n    directives: [ROUTER_DIRECTIVES],\r\n    providers: [LocalizationService, LocaleService, ProductService],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\n@Routes([\r\n    { path: '/home', component: HomeComponent },\r\n    { path: '/shop', component: ShopComponent }\r\n])\r\n\r\nexport class AppComponent extends Locale {\r\n\r\n    constructor(\r\n        private router: Router,\r\n        public locale: LocaleService,\r\n        public localization: LocalizationService,\r\n        private _productService: ProductService\r\n    ) {\r\n        super(null, localization);\r\n        // Adds a new language (ISO 639 two-letter code).\r\n        this.locale.addLanguage('de');\r\n        this.locale.addLanguage('fr');\r\n        this.locale.addLanguage('it');\r\n        this.locale.addLanguage('en');\r\n\r\n        this.locale.definePreferredLocale('en', 'US', 30);\r\n\r\n        this.localization.translationProvider('./i18n/locale-'); // Required: initializes the translation provider with the given path prefix.\r\n        this.localization.updateTranslation(); // Need to update the translation.\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.router.navigate(['/home']);\r\n\r\n    }\r\n\r\n    public ChangeCulture(language: string, country: string, currency: string) {\r\n        this.locale.setCurrentLocale(language, country);\r\n        this.locale.setCurrentCurrency(currency);\r\n        this.localization.updateTranslation();\r\n    }\r\n\r\n    public ChangeCurrency(currency: string) {\r\n        this.locale.setCurrentCurrency(currency);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/app.component.ts\n **/","import { Observable } from 'rxjs/Observable';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { CORE_DIRECTIVES } from '@angular/common';\r\nimport { Http } from '@angular/http';\r\n\r\n\r\n@Component({\r\n    selector: 'homecomponent',\r\n    templateUrl: 'app/home/home.component.html',\r\n    directives: [CORE_DIRECTIVES]\r\n})\r\n\r\nexport class HomeComponent implements OnInit {\r\n\r\n    public message: string;\r\n\r\n    constructor() {\r\n        this.message = \"home.component\";\r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log(\"ngOnInit HomeComponent\");\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/home/home.component.ts\n **/","import { Component, OnInit } from '@angular/core';\r\nimport { CORE_DIRECTIVES } from '@angular/common';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Http } from '@angular/http';\r\nimport { Product } from '../services/Product';\r\nimport { LocaleService } from 'angular2localization/angular2localization';\r\nimport { ProductService } from '../services/ProductService';\r\nimport {TranslatePipe} from 'angular2localization/angular2localization';\r\n\r\n@Component({\r\n    selector: 'shopcomponent',\r\n    templateUrl: 'app/shop/shop.component.html',\r\n    directives: [CORE_DIRECTIVES],\r\n    pipes: [TranslatePipe]\r\n})\r\n\r\nexport class ShopComponent implements OnInit {\r\n\r\n    public message: string;\r\n    public Products: Product[];\r\n    public Currency: string;\r\n    public Price: string;\r\n\r\n    constructor(\r\n        public _locale: LocaleService,\r\n        private _productService: ProductService) {\r\n        this.message = \"shop.component\";\r\n\r\n        this._locale.countryCodeChanged.subscribe(item => this.onCountryChangedDataRecieved(item));\r\n        this._locale.currencyCodeChanged.subscribe(currency => this.onChangedCurrencyRecieved(currency));\r\n        \r\n    }\r\n\r\n    ngOnInit() {\r\n        console.log(\"ngOnInit ShopComponent\");\r\n        this.GetProducts();\r\n\r\n        this.Currency = this._locale.getCurrentCurrency();\r\n        if (!(this.Currency === \"CHF\" || this.Currency === \"EUR\")) {\r\n            this.Currency = \"CHF\";\r\n        }\r\n    }\r\n\r\n    public GetProducts() {\r\n        console.log('ShopComponent:GetProducts starting...');\r\n        this._productService.GetAvailableProducts()\r\n            .subscribe((data) => {\r\n                this.Products = data;\r\n            },\r\n            error => console.log(error),\r\n            () => {\r\n                console.log('ProductService:GetProducts completed');\r\n            }\r\n            );\r\n    } \r\n\r\n    private onCountryChangedDataRecieved(item) {\r\n        this.GetProducts();\r\n        console.log(\"onProductDataRecieved\");\r\n        console.log(item);\r\n    }\r\n\r\n    private onChangedCurrencyRecieved(currency) {\r\n        this.Currency = currency;\r\n        console.log(\"onChangedCurrencyRecieved\");\r\n        console.log(currency);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/shop/shop.component.ts\n **/","import { Injectable } from '@angular/core';\r\nimport { Http, Response, Headers } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Configuration } from '../app.constants';\r\nimport { Product } from './Product';\r\nimport { LocaleService } from 'angular2localization/angular2localization';\r\n\r\n@Injectable()\r\nexport class ProductService {\r\n    private actionUrl: string;\r\n    private headers: Headers;\r\n    private isoCode: string;\r\n\r\n    constructor(private _http: Http, private _configuration: Configuration, public _locale: LocaleService) {\r\n        this.actionUrl = `${_configuration.Server}api/Shop/`;       \r\n    }\r\n\r\n    private setHeaders() {\r\n        this.headers = new Headers();\r\n        this.headers.append('Content-Type', 'application/json');\r\n        this.headers.append('Accept', 'application/json');\r\n    }\r\n\r\n    // http://localhost:5000/api/Shop/AvailableProducts?culture=de-CH\r\n    // http://localhost:5000/api/Shop/AvailableProducts?culture=it-CH\r\n    // http://localhost:5000/api/Shop/AvailableProducts?culture=fr-CH\r\n    // http://localhost:5000/api/Shop/AvailableProducts?culture=en-US\r\n    public GetAvailableProducts = (): Observable<Product[]> => {\r\n        console.log(this._locale.getCurrentLanguage());\r\n        console.log(this._locale.getCurrentCountry());\r\n        this.isoCode = `${this._locale.getCurrentLanguage()}-${this._locale.getCurrentCountry()}`; \r\n\r\n        this.setHeaders();\r\n        return this._http.get(`${this.actionUrl}AvailableProducts?culture=${this.isoCode}`, {\r\n            headers: this.headers\r\n        }).map(res => res.json());\r\n    }   \r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/services/ProductService.ts\n **/","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Configuration {\r\n    public Server: string = \"http://localhost:5000/\";\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./wwwroot/app/app.constants.ts\n **/"],"sourceRoot":""}